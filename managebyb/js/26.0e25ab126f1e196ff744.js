webpackJsonp([26],{1008:function(e,t,o){var a=o(900);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(11)("76873788",a,!0)},268:function(e,t,o){o(1008);var a=o(9)(o(843),o(956),"data-v-0e14ef21",null);e.exports=a.exports},326:function(e,t,o){e.exports={default:o(327),__esModule:!0}},327:function(e,t,o){var a=o(5),n=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},370:function(e,t,o){"use strict";var a=o(62),n={usersScores:"management/commodity/usersScores",scoreFind:"management/commodity/scoreFind",scoresDetail:"management/commodity/scoresDetail",goodsList:"management/commodity/list",searchCommodity:"management/commodity/searchCommodity",goodsDelete:"management/commodity/batch/delete",goodsDown:"management/commodity/batch/down",goodsUp:"management/commodity/batch/up",goodsDetail:"management/commodity/detail",goodsInsert:"management/commodity/insert",goodsUpdate:"management/commodity/update",orderList:"management/commodity/orderList",expressList:"management/commodity/expressList",getcdkey:"management/commodity/cdKeyList",changeOrder:"management/commodity/changeOrder",orderFind:"management/commodity/orderFind",usersExport:"management/commodity/usersExport",ordersExport:"management/commodity/ordersExport",cdKeyList:"management/commodity/cdKeyList",cdkInsert:"management/commodity/packageBatch/insert",cdKeysDelete:"management/commodity/cdKeysDelete",outputCdk:"management/commodity/packageBatch/output"};t.a={usersScores:function(e){return a.a.get(n.usersScores,e)},scoreFind:function(e){return a.a.get(n.scoreFind,e)},scoresDetail:function(e){return a.a.get(n.scoresDetail,e)},goodsList:function(e){return a.a.get(n.goodsList,e)},searchCommodity:function(e){return a.a.get(n.searchCommodity,e)},goodsDelete:function(e){return a.a.post(n.goodsDelete,e)},goodsDown:function(e){return a.a.post(n.goodsDown,e)},goodsUp:function(e){return a.a.post(n.goodsUp,e)},goodsDetail:function(e){return a.a.get(n.goodsDetail,e)},goodsInsert:function(e){return a.a.post(n.goodsInsert,e)},goodsUpdate:function(e){return a.a.post(n.goodsUpdate,e)},orderList:function(e){return a.a.get(n.orderList,e)},expressList:function(e){return a.a.get(n.expressList,e)},getcdkey:function(e){return a.a.get(n.getcdkey,e)},changeOrder:function(e){return a.a.post(n.changeOrder,e)},orderFind:function(e){return a.a.get(n.orderFind,e)},usersExport:function(e){return a.a.get(n.usersExport,e)},ordersExport:function(e){return a.a.get(n.ordersExport,e)},cdKeyList:function(e){return a.a.get(n.cdKeyList,e)},cdkInsert:function(e){return a.a.post(n.cdkInsert,e)},cdKeysDelete:function(e){return a.a.post(n.cdKeysDelete,e)},outputCdk:function(e){return a.a.get(n.outputCdk,e)}}},843:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(326),n=o.n(a),r=o(65),s=o.n(r),i=o(370);t.default={name:"goods-count",data:function(){return{loading:!1,pageSize:10,currentpage:1,page:"",time:"",tableData:[],dataTotal:null,typeSelect:[{name:"流量",type:"0"},{name:"兑奖码",type:"1"},{name:"实物寄送",type:"2"}],goodsTypeSelect:[{name:"销售类",type:"0"},{name:"抽奖类",type:"1"}],goodsScoreSelect:["0-1000","1001-2000"],goodsPriceSelect:["0-100","101-200"],goodName:"",typeSelectKey:"",goodsTypeSelectKey:"",goodsScore:"",goodsPrice:"",goodSelection:[]}},methods:{goodsSizeChange:function(){},goodsCurrentChange:function(e){var t={page:e,pageSize:this.pageSize};""!=this.goodName&&(t.name=this.goodName),""!=this.typeSelectKey&&"all"!=this.typeSelectKey&&(t.type=Number(this.typeSelectKey)),""!=this.goodsTypeSelectKey&&"all"!=this.goodsTypeSelectKey&&(t.position=Number(this.goodsTypeSelectKey)),""!=this.goodsScore&&"all"!=this.goodsScore&&(t.lowScore=Number(this.goodsScore.split("-")[0]),t.topScore=Number(this.goodsScore.split("-")[1])),""!=this.goodsPrice&&"all"!=this.goodsPrice&&(t.lowPrice=Number(this.goodsPrice.split("-")[0]),t.topPrice=Number(this.goodsPrice.split("-")[1])),this.searchFn(t)},goodsSelectionChange:function(e){this.goodSelection=e},search:function(){var e={};""!=this.goodName&&(e.name=this.goodName),""!=this.typeSelectKey&&"all"!=this.typeSelectKey&&(e.type=Number(this.typeSelectKey)),""!=this.goodsTypeSelectKey&&"all"!=this.goodsTypeSelectKey&&(e.position=Number(this.goodsTypeSelectKey)),""!=this.goodsScore&&"all"!=this.goodsScore&&(e.lowScore=Number(this.goodsScore.split("-")[0]),e.topScore=Number(this.goodsScore.split("-")[1])),""!=this.goodsPrice&&"all"!=this.goodsPrice&&(e.lowPrice=Number(this.goodsPrice.split("-")[0]),e.topPrice=Number(this.goodsPrice.split("-")[1])),this.searchFn(e)},searchFn:function(e){var t=this;this.loading=!0,i.a.searchCommodity(e).then(function(e){var o=[],a=e.data.data.commodityList,n=!0,r=!1,i=void 0;try{for(var c,l=s()(a);!(n=(c=l.next()).done);n=!0){var d=c.value,p="";switch(d.type){case 0:p="流量";break;case 1:p="兑奖码";break;case 2:p="实物寄送";break;case 3:p="抽奖机会"}var u={name:d.name,type:p,goodsType:0==d.position?"销售类":"抽奖类",quantity:d.quantity,unit:d.unit,needScoreCount:d.needScoreCount,price:d.price,enable:0==d.enable?"下架":"上架",stock:d.stock,id:d.id};o.push(u)}}catch(e){r=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}t.loading=!1,t.tableData=o,t.dataTotal=e.data.data.count})},goodsEdit:function(e,t){this.$router.push({path:"/goods-detail",query:{id:t.id}})},addGoods:function(){this.$router.push({path:"/goods-detail"})},goodsDelect:function(){var e=this,t=[],o={};if(e.goodSelection.length<=0)return void e.$message({message:"您未选择任何商品",type:"warning"});e.$confirm("确定删除选中项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.goodSelection.forEach(function(e){t.push(e.id)}),o.id=n()(t),i.a.goodsDelete(o).then(function(t){if("0"==t.data.code){var o={pageSize:e.pageSize};e.searchFn(o)}})})},goodsUp:function(){var e=this,t=[],o={};if(e.goodSelection.length<=0)return void e.$message({message:"您未选择任何商品",type:"warning"});e.$confirm("确定删除选中项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.goodSelection.forEach(function(e){t.push(e.id)}),o.id=n()(t),i.a.goodsUp(o).then(function(t){if("0"==t.data.code){var o={pageSize:e.pageSize};e.searchFn(o)}})})},goodsDown:function(){var e=this,t=[],o={};if(e.goodSelection.length<=0)return void e.$message({message:"您未选择任何商品",type:"warning"});e.$confirm("确定删除选中项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.goodSelection.forEach(function(e){t.push(e.id)}),o.id=n()(t),i.a.goodsDown(o).then(function(t){if("0"==t.data.code){var o={pageSize:e.pageSize};e.searchFn(o)}})})}},mounted:function(){this.searchFn({pageSize:this.pageSize})}}},900:function(e,t,o){t=e.exports=o(7)(),t.push([e.i,".history_body[data-v-0e14ef21]{margin-top:20px}.pagenation_pane[data-v-0e14ef21]{padding-top:10px;display:flex;align-items:center;justify-content:center}.btn_wrap[data-v-0e14ef21]{padding-top:20px}",""])},956:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",[o("i",{staticClass:"el-icon-star-on"}),e._v(" 积分商城")]),e._v(" "),o("el-breadcrumb-item",[e._v("商品管理")])],1)],1),e._v(" "),o("div",{staticClass:"history_body"},[o("el-card",[o("div",{attrs:{slot:"header"},slot:"header"},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:4}},[o("el-input",{attrs:{placeholder:"商品名称"},model:{value:e.goodName,callback:function(t){e.goodName=t},expression:"goodName"}})],1),e._v(" "),o("el-col",{attrs:{span:4}},[o("el-select",{attrs:{placeholder:"商品类型"},model:{value:e.typeSelectKey,callback:function(t){e.typeSelectKey=t},expression:"typeSelectKey"}},[o("el-option",{attrs:{label:"全部",value:"all"}}),e._v(" "),e._l(e.typeSelect,function(e,t){return o("el-option",{attrs:{label:e.name,value:e.type}})})],2)],1),e._v(" "),o("el-col",{attrs:{span:4}},[o("el-select",{attrs:{placeholder:"商品分类"},model:{value:e.goodsTypeSelectKey,callback:function(t){e.goodsTypeSelectKey=t},expression:"goodsTypeSelectKey"}},[o("el-option",{attrs:{label:"全部",value:"all"}}),e._v(" "),e._l(e.goodsTypeSelect,function(e,t){return o("el-option",{attrs:{label:e.name,value:e.type}})})],2)],1),e._v(" "),o("el-col",{attrs:{span:4}},[o("el-select",{attrs:{placeholder:"商品积分"},model:{value:e.goodsScore,callback:function(t){e.goodsScore=t},expression:"goodsScore"}},[o("el-option",{attrs:{label:"全部",value:"all"}}),e._v(" "),e._l(e.goodsScoreSelect,function(e,t){return o("el-option",{attrs:{label:e,value:e}})})],2)],1),e._v(" "),o("el-col",{attrs:{span:4}},[o("el-select",{attrs:{placeholder:"商品价格"},model:{value:e.goodsPrice,callback:function(t){e.goodsPrice=t},expression:"goodsPrice"}},[o("el-option",{attrs:{label:"全部",value:"all"}}),e._v(" "),e._l(e.goodsPriceSelect,function(e,t){return o("el-option",{attrs:{label:e,value:e}})})],2)],1),e._v(" "),o("el-col",{attrs:{span:4}},[o("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),o("el-button",{on:{click:e.addGoods}},[e._v("添加")])],1)],1)],1),e._v(" "),o("div",[o("el-table",{directives:[{name:"loading",rawName:"v-loading.body.loak",value:e.loading,expression:"loading",modifiers:{body:!0,loak:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""},on:{"selection-change":e.goodsSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"100",fixed:""}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",width:"180",label:"商品名称"}}),e._v(" "),o("el-table-column",{attrs:{prop:"type",width:"180",label:"商品类型"}}),e._v(" "),o("el-table-column",{attrs:{prop:"goodsType",width:"160",label:"商品分类"}}),e._v(" "),o("el-table-column",{attrs:{prop:"quantity",width:"160",label:"单份数量"}}),e._v(" "),o("el-table-column",{attrs:{prop:"unit",width:"160",label:"单位"}}),e._v(" "),o("el-table-column",{attrs:{prop:"needScoreCount",width:"120",label:"积分"}}),e._v(" "),o("el-table-column",{attrs:{prop:"price",width:"160",label:"价格/元"}}),e._v(" "),o("el-table-column",{attrs:{prop:"enable",width:"120",label:"状态"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stock",width:"120",label:"库存"}}),e._v(" "),o("el-table-column",{attrs:{prop:"pinter",width:"120",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){e.goodsEdit(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1)],1),e._v(" "),o("div",{staticClass:"pagenation_pane"},[o("el-pagination",{attrs:{"page-sizes":[10],"page-size":e.pageSize,"current-page":e.currentpage,layout:"total, sizes, prev, pager, next, jumper",total:e.dataTotal},on:{"size-change":e.goodsSizeChange,"current-change":e.goodsCurrentChange}})],1),e._v(" "),o("div",{staticClass:"btn_wrap"},[o("el-button",{attrs:{type:"primary"},on:{click:e.goodsDelect}},[e._v("批量删除")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.goodsUp}},[e._v("批量上架")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.goodsDown}},[e._v("批量下架")])],1)])],1)])},staticRenderFns:[]}}});