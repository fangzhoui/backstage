webpackJsonp([39],{1034:function(e,t,a){var r=a(926);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(11)("3b3e96f2",r,!0)},296:function(e,t,a){a(1034);var r=a(9)(a(871),a(983),"data-v-60d2ea90",null);e.exports=r.exports},349:function(e,t,a){"use strict";var r=a(62),n={wxWordList:"management/api/keywords/list",wxWordInsert:"management/api/keywords/insert",wxWordUpdate:"management/api/keywords/update",wxWordDelete:"management/api/keywords/delete",wxQrlist:"management/api/qrcode/list",wxQrInsert:"management/api/qrcode/insert",wxQrUpdate:"management/api/qrcode/update",wxMenuUpdate:"management/api/wechat/menu/update",wxMenuList:"management/api/wechat/menu/list",messageDelete:"management/api/message/delete",messageList:"management/api/message/list",messageDetail:"management/api/message/detail",saveAndSendMessage:"management/api/message/saveAndSendMessage",qrGetDefault:"management/api/qrcode/getDefault",qrUpdateDefault:"management/api/qrcode/updateDefault",keyGetDefault:"management/api/keywords/getDefault",keyUpdateDefault:"management/api/keywords/updateDefault"};t.a={wxWordList:function(e){return r.a.get(n.wxWordList,e)},wxWordInsert:function(e){return r.a.post(n.wxWordInsert,e)},wxWordUpdate:function(e){return r.a.post(n.wxWordUpdate,e)},wxWordDelete:function(e){return r.a.get(n.wxWordDelete,e)},wxQrlist:function(e){return r.a.get(n.wxQrlist,e)},wxQrInsert:function(e){return r.a.post(n.wxQrInsert,e)},wxQrUpdate:function(e){return r.a.post(n.wxQrUpdate,e)},wxMenuUpdate:function(e){return r.a.post(n.wxMenuUpdate,e)},wxMenuList:function(e){return r.a.get(n.wxMenuList,e)},messageDelete:function(e){return r.a.post(n.messageDelete,e)},messageList:function(e){return r.a.get(n.messageList,e)},messageDetail:function(e){return r.a.get(n.messageDetail,e)},saveAndSendMessage:function(e){return r.a.post(n.saveAndSendMessage,e)},qrGetDefault:function(e){return r.a.get(n.qrGetDefault,e)},qrUpdateDefault:function(e){return r.a.post(n.qrUpdateDefault,e)},keyGetDefault:function(e){return r.a.get(n.keyGetDefault,e)},keyUpdateDefault:function(e){return r.a.post(n.keyUpdateDefault,e)}}},871:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(349);t.default={name:"wx-autoreply",data:function(){return{searchContent:"",tableData:[],loading:!1,replayDialogVisible:!1,replayFrom:{word:"",replay:""},RepalyRules:{word:[{required:!0,message:"请输入关键词",trigger:"blur"}],replay:[{required:!0,message:"请输入回复内容",trigger:"blur"}]},id:null}},methods:{addReplayWord:function(){this.id=null,this.replayDialogVisible=!0},addReplayWordFn:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;if(t.id){var a={id:t.id,keywords:t.replayFrom.word,replyContent:t.replayFrom.replay};r.a.wxWordUpdate(a).then(function(e){"0"==e.data.code?(t.getWordList(),t.replayFrom={word:"",replay:""},t.replayDialogVisible=!1):t.$message(e.data.userMessage)})}else{var n={keywords:t.replayFrom.word,replyContent:t.replayFrom.replay};r.a.wxWordInsert(n).then(function(e){"0"==e.data.code?(t.getWordList(),t.replayFrom={word:"",replay:""},t.replayDialogVisible=!1):t.$message(e.data.userMessage)})}})},cancelReplayWordFn:function(){this.replayFrom={word:"",replay:""},this.replayDialogVisible=!1},wordReplayEdit:function(e,t){this.id=t.id,this.replayFrom.word=t.keywords,this.replayFrom.replay=t.replyContent,this.replayDialogVisible=!0},wordReplayDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该回复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var n={id:t.id};r.a.wxWordDelete(n).then(function(t){"0"==t.data.code?(a.$message("删除成功"),a.tableData.splice(e,1)):a.$message(t.data.userMessage)})}).catch(function(){})},handleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(a){t.replayFrom={word:"",replay:""},e()}).catch(function(e){})},getWordList:function(){var e=this;r.a.wxWordList().then(function(t){"0"==t.data.code&&(e.tableData=t.data.data)})}},created:function(){this.getWordList()}}},926:function(e,t,a){t=e.exports=a(7)(),t.push([e.i,".history_body[data-v-60d2ea90]{margin-top:20px}.hidden_text .cell[data-v-60d2ea90]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""])},983:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-star-on"}),e._v(" 微信公众号管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("自动回复")])],1)],1),e._v(" "),a("div",{staticClass:"history_body"},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addReplayWord}},[e._v("添加")])],1)],1)],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body.loak",value:e.loading,expression:"loading",modifiers:{body:!0,loak:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"","max-height":"450"}},[a("el-table-column",{attrs:{prop:"keywords",width:"180",label:"关键词"}}),e._v(" "),a("el-table-column",{attrs:{prop:"replyContent",label:"回复内容","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"pinter",width:"240",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.wordReplayEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.wordReplayDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.replayDialogVisible,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.replayDialogVisible=t}}},[a("el-form",{ref:"replayFrom",attrs:{model:e.replayFrom,"label-width":"80px",rules:e.RepalyRules}},[a("el-form-item",{attrs:{label:"关键词",prop:"word"}},[a("el-input",{model:{value:e.replayFrom.word,callback:function(t){e.$set(e.replayFrom,"word",t)},expression:"replayFrom.word"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"回复内容",prop:"replay"}},[a("el-input",{attrs:{type:"textarea",rows:9},model:{value:e.replayFrom.replay,callback:function(t){e.$set(e.replayFrom,"replay",t)},expression:"replayFrom.replay"}})],1),e._v(" "),a("p",[a("a",{attrs:{href:"http://link.ipaiban.com/#",target:"view_window"}},[e._v("超链接生成请点击此处")])])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelReplayWordFn}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addReplayWordFn("replayFrom")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}}});