webpackJsonp([38],{1031:function(e,t,a){var r=a(923);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(11)("37acbd26",r,!0)},299:function(e,t,a){a(1031);var r=a(9)(a(876),a(979),"data-v-50ff9b7e",null);e.exports=r.exports},349:function(e,t,a){"use strict";var r=a(62),n={wxWordList:"management/api/keywords/list",wxWordInsert:"management/api/keywords/insert",wxWordUpdate:"management/api/keywords/update",wxWordDelete:"management/api/keywords/delete",wxQrlist:"management/api/qrcode/list",wxQrInsert:"management/api/qrcode/insert",wxQrUpdate:"management/api/qrcode/update",wxMenuUpdate:"management/api/wechat/menu/update",wxMenuList:"management/api/wechat/menu/list",messageDelete:"management/api/message/delete",messageList:"management/api/message/list",messageDetail:"management/api/message/detail",saveAndSendMessage:"management/api/message/saveAndSendMessage",qrGetDefault:"management/api/qrcode/getDefault",qrUpdateDefault:"management/api/qrcode/updateDefault",keyGetDefault:"management/api/keywords/getDefault",keyUpdateDefault:"management/api/keywords/updateDefault"};t.a={wxWordList:function(e){return r.a.get(n.wxWordList,e)},wxWordInsert:function(e){return r.a.post(n.wxWordInsert,e)},wxWordUpdate:function(e){return r.a.post(n.wxWordUpdate,e)},wxWordDelete:function(e){return r.a.get(n.wxWordDelete,e)},wxQrlist:function(e){return r.a.get(n.wxQrlist,e)},wxQrInsert:function(e){return r.a.post(n.wxQrInsert,e)},wxQrUpdate:function(e){return r.a.post(n.wxQrUpdate,e)},wxMenuUpdate:function(e){return r.a.post(n.wxMenuUpdate,e)},wxMenuList:function(e){return r.a.get(n.wxMenuList,e)},messageDelete:function(e){return r.a.post(n.messageDelete,e)},messageList:function(e){return r.a.get(n.messageList,e)},messageDetail:function(e){return r.a.get(n.messageDetail,e)},saveAndSendMessage:function(e){return r.a.post(n.saveAndSendMessage,e)},qrGetDefault:function(e){return r.a.get(n.qrGetDefault,e)},qrUpdateDefault:function(e){return r.a.post(n.qrUpdateDefault,e)},keyGetDefault:function(e){return r.a.get(n.keyGetDefault,e)},keyUpdateDefault:function(e){return r.a.post(n.keyUpdateDefault,e)}}},876:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(349);t.default={data:function(){return{tableData:[],qrDialogVisible:!1,loading:!1,qrFrom:{name:"",greeting:""},qrRules:{name:[{required:!0,message:"请输入关键词",trigger:"blur"}],greeting:[{required:!0,message:"请输入回复内容",trigger:"blur"}]},id:null}},created:function(){this.getQrList()},methods:{getQrList:function(){var e=this;r.a.wxQrlist().then(function(t){"0"==t.data.code&&(e.tableData=t.data.data)})},addQr:function(){this.qrDialogVisible=!0,this.id=null},qrCodeEdit:function(e,t){this.id=t.id,this.qrFrom.name=t.name,this.qrFrom.greeting=t.greeting,this.qrDialogVisible=!0},cancelQrWordFn:function(e){this.qrFrom={name:"",greeting:""},this.id=null,this.qrDialogVisible=!1},saveQrWordFn:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;if(t.id){var a={id:t.id,greeting:t.qrFrom.greeting};r.a.wxQrUpdate(a).then(function(e){"0"==e.data.code?(t.getQrList(),t.qrFrom={name:"",greeting:""},t.id=null,t.qrDialogVisible=!1):t.$message(e.data.userMessage)})}else{var n={name:t.qrFrom.name,greeting:t.qrFrom.greeting};r.a.wxQrInsert(n).then(function(e){"0"==e.data.code?(t.getQrList(),t.qrFrom={name:"",greeting:""},t.qrDialogVisible=!1):t.$message(e.data.userMessage)})}})},handleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(a){t.qrFrom={name:"",greeting:""},t.id=null,e()}).catch(function(e){})},collectPacks:function(){this.$message({message:"复制成功",type:"success"})}}}},923:function(e,t,a){t=e.exports=a(7)(),t.push([e.i,".history_body[data-v-50ff9b7e]{margin-top:20px}.qrcode_size[data-v-50ff9b7e]{width:150px;height:150px}",""])},979:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-star-on"}),e._v(" 微信公众号管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("二维码管理")])],1)],1),e._v(" "),a("div",{staticClass:"history_body"},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addQr}},[e._v("添加")])],1)],1)],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body.loak",value:e.loading,expression:"loading",modifiers:{body:!0,loak:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"","max-height":"450"}},[a("el-table-column",{attrs:{prop:"name",width:"120",label:"标题","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"greeting",label:"回复内容","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"qrcodeUrl",label:"二维码地址","show-overflow-tooltip":!1},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("img",{staticClass:"qrcode_size",attrs:{src:t.row.qrcodeUrl}}),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.qrcodeUrl))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"pinter",width:"240",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),e.qrCodeEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.row.qrcodeUrl,expression:"scope.row.qrcodeUrl"}],attrs:{size:"mini"},on:{click:function(t){t.stopPropagation(),e.collectPacks(t)}}},[e._v("复制")])]}}])})],1)],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.qrDialogVisible,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.qrDialogVisible=t}}},[a("el-form",{ref:"qrFrom",attrs:{model:e.qrFrom,"label-width":"80px",rules:e.qrRules}},[a("el-form-item",{attrs:{label:"标题",prop:"name"}},[a("el-input",{attrs:{disabled:!!e.id},model:{value:e.qrFrom.name,callback:function(t){e.$set(e.qrFrom,"name",t)},expression:"qrFrom.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"回复内容",prop:"greeting"}},[a("el-input",{attrs:{type:"textarea",rows:9},model:{value:e.qrFrom.greeting,callback:function(t){e.$set(e.qrFrom,"greeting",t)},expression:"qrFrom.greeting"}})],1),e._v(" "),a("p",[a("a",{attrs:{href:"http://link.ipaiban.com/#",target:"view_window"}},[e._v("超链接生成请点击此处")])])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelQrWordFn("qrFrom")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveQrWordFn("qrFrom")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}}});