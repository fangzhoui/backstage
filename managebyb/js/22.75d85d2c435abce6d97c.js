webpackJsonp([22],{1004:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-wrap",[a("div",{attrs:{slot:"sideLeft"},slot:"sideLeft"},[a("el-card",[a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-setting"}),t._v(" 主题管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("主题游戏")])],1)],1),t._v(" "),t._l(t.bannerList,function(e){return a("product-item",{attrs:{index:e.id,code:t.sectionId,name:e.name,showListType:!1},on:{deleteItem:function(a){t.deleteTop(e.id)}},nativeOn:{click:function(a){t.pick(e)}}},[a("img",{attrs:{src:t.preUrl+"/"+e.imageLogo}})])})],2)],1),t._v(" "),a("div",{attrs:{slot:"sideRight"},slot:"sideRight"},[a("el-card",[a("div",{staticClass:"header_pane",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{disabled:!t.sectionId,type:"success"},on:{click:t.addItemBtnFn}},[t._v("添加")])],1),t._v(" "),a("table",[a("tr",{staticClass:"table_header_wrap"},[a("th",{staticClass:"table_header table_img"},[a("span",[t._v("图标")])]),t._v(" "),a("th",{staticClass:"table_header table_weight"},[a("span",[t._v("游戏")])]),t._v(" "),a("th",{staticClass:"table_header table_action"},[a("span",[t._v("操作")])])]),t._v(" "),t._l(t.sectionList,function(e,i){return a("tr",{key:i},[a("td",{staticClass:"body table_img"},[a("img",{attrs:{src:t.preUrl+"/"+e.imageLogo}})]),t._v(" "),a("td",{staticClass:"body table_weight"},[t._v(t._s(e.name))]),t._v(" "),a("td",{staticClass:"body table_action"},[a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(a){t.deleteItemFn(e.id)}}},[t._v("删除")])],1)])})],2)])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"主题列表",visible:t.topicdialogVisible,width:"60%"},on:{"update:visible":function(e){t.topicdialogVisible=e}}},[a("ul",{staticClass:"topic_list"},t._l(t.allSectionList,function(e,i){return a("li",{staticClass:"topic_item",class:{cho:e.id==t.topicId},on:{click:function(a){a.stopPropagation(),t.choseTop(e.id,i)}}},[a("div",{staticClass:"topimg_box"},[a("img",{attrs:{src:t.preUrl+"/"+e.imageLogo,width:"100%",height:"100%"}})]),t._v(" "),a("p",{staticClass:"topic_text"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"topic_text"},[t._v(t._s(e.subName))])])})),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.topicdialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addTopic}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]}},1052:function(t,e,a){var i=a(944);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(11)("380cefa4",i,!0)},292:function(t,e,a){a(1052);var i=a(9)(a(867),a(1004),"data-v-f4f24734",null);t.exports=i.exports},325:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"list-item",data:function(){return{showIcon:!1,showDetail:!1,state:!1,indexlabel:""}},props:{index:null,code:null,name:{type:String,default:"默认"},listType:{type:String,default:"默认"},showListType:{type:Boolean,default:!0},showDetailParent:{type:Boolean,default:!1}},watch:{code:function(t,e){t==this.index?this.state=!0:this.state=!1}},methods:{mouseIn:function(){this.showIcon=!0,this.showDetail=!0},mouseOut:function(){this.showIcon=!1,this.showDetail=!1},deleteItemFn:function(){this.$emit("deleteItem")},lookDetail:function(){this.$emit("lookDetail")},pickFn:function(){this.$emit("select",this.index)}}}},328:function(t,e,a){e=t.exports=a(7)(),e.push([t.i,".list_item_wrap[data-v-2a55c3ba]{display:flex;align-items:center;justify-content:space-between;padding:10px}.list_item_wrap[data-v-2a55c3ba]:hover{background:#eef1f6}.list_item_content[data-v-2a55c3ba]{display:flex;align-items:center}.list_item_content img[data-v-2a55c3ba]{width:40px;height:40px;border-radius:20px}.text_pane[data-v-2a55c3ba]{margin-left:10px;color:#333;min-width:100px}.text_type[data-v-2a55c3ba]{font-size:12px}.pick_color[data-v-2a55c3ba]{color:#2196f3}.delete_icon[data-v-2a55c3ba]{padding:5px}",""])},330:function(t,e,a){a(332);var i=a(9)(a(325),a(331),"data-v-2a55c3ba",null);t.exports=i.exports},331:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list_item_wrap underline",on:{mouseenter:t.mouseIn,mouseleave:t.mouseOut}},[a("div",{staticClass:"list_item_content"},[t._t("default",[a("img",{attrs:{src:"http://oo6gk8wuu.bkt.clouddn.com/header1.jpg"}})]),t._v(" "),a("div",{staticClass:"text_pane",class:{pick_color:t.state}},[a("p",[t._v(t._s(t.name))]),t._v(" "),t.showListType?a("p",{staticClass:"text_type"},[t._v(t._s(t.listType))]):t._e()])],2),t._v(" "),t.showDetail&&t.showDetailParent?a("div",{staticClass:"delete_icon"},[t._t("deleteIcon",[a("i",{staticClass:"el-icon-edit",on:{click:function(e){e.stopPropagation(),t.lookDetail(e)}}})])],2):t._e(),t._v(" "),t.showIcon?a("div",{staticClass:"delete_icon"},[t._t("deleteIcon",[a("i",{staticClass:"el-icon-circle-close",on:{click:function(e){e.stopPropagation(),t.deleteItemFn(e)}}})])],2):t._e()])},staticRenderFns:[]}},332:function(t,e,a){var i=a(328);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(11)("9ae1ef20",i,!0)},420:function(t,e,a){"use strict";var i=a(62),n={cancelAfter:"management/api/package/cancelAfter",cdKeyInsert:"management/api/package/cdKeyInsert",cdKeyList:"management/api/package/cdKeyList",cdKeysDelete:"management/api/package/cdKeysDelete",packageDelete:"management/api/package/delete",packageDetail:"management/api/package/detail",packageExport:"management/api/package/cdkeyExport",findCdKey:"management/api/package/findCdKey",packageInsert:"management/api/package/insert",packageList:"management/api/package/list",packagesAndDownloads:"/management/api/package/packagesAndDownloads",packageUpdate:"management/api/package/update",gameList:"management/api/game/gameList"};e.a={cancelAfter:function(t){return i.a.post(n.cancelAfter,t)},cdKeyInsert:function(t){return i.a.post(n.cdKeyInsert,t)},cdKeyList:function(t){return i.a.get(n.cdKeyList,t)},cdKeysDelete:function(t){return i.a.post(n.cdKeysDelete,t)},packageDelete:function(t){return i.a.post(n.packageDelete,t)},packageDetail:function(t){return i.a.get(n.packageDetail,t)},packageExport:function(t){return i.a.get(n.packageExport,t)},findCdKey:function(t){return i.a.get(n.findCdKey,t)},packageInsert:function(t){return i.a.post(n.packageInsert,t)},packageList:function(t){return i.a.get(n.packageList,t)},packagesAndDownloads:function(t){return i.a.get(n.packagesAndDownloads,t)},packageUpdate:function(t){return i.a.post(n.packageUpdate,t)},gameList:function(t){return i.a.get(n.gameList,t)}}},421:function(t,e,a){"use strict";var i=a(62),n={topicInsert:"management/api/topic/insert",topicUpdate:"management/api/topic/update",allTopicList:"management/api/topic/allTopicList",topicDelete:"management/api/topic/delete",topicGameList:"management/api/topic/gameList",topicDetail:"management/api/topic/topicDetail",relInsert:"management/api/topic/relInsert",relDelete:"management/api/topic/relDelete"};e.a={topicInsert:function(t){return i.a.post(n.topicInsert,t)},topicUpdate:function(t){return i.a.post(n.topicUpdate,t)},allTopicList:function(t){return i.a.get(n.allTopicList,t)},topicDelete:function(t){return i.a.post(n.topicDelete,t)},topicGameList:function(t){return i.a.get(n.topicGameList,t)},topicDetail:function(t){return i.a.get(n.topicDetail,t)},relInsert:function(t){return i.a.post(n.relInsert,t)},relDelete:function(t){return i.a.post(n.relDelete,t)}}},867:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(a(29),a(421)),n=a(420),o=a(330),s=a.n(o);e.default={name:"topic-game",components:{"product-item":s.a},data:function(){return{label:"内容",bannerList:[],sectionList:[],allSectionList:[],preUrl:sessionStorage.getItem("imageUrl"),topicdialogVisible:!1,topicId:"",sectionId:""}},watch:{topicdialogVisible:function(t,e){t||(this.topicId="")}},methods:{pick:function(t){console.log(t),this.sectionId=t.id;var e={id:t.id};this.getSectionList(e)},getList:function(){var t=this;i.a.allTopicList().then(function(e){"0"==e.data.code&&(t.bannerList=e.data.data)})},getSectionList:function(t){var e=this;i.a.topicGameList(t).then(function(t){"0"==t.data.code&&(e.sectionList=t.data.data)})},getAllSectionList:function(){var t=this;n.a.gameList().then(function(e){"0"==e.data.code&&(t.allSectionList=e.data.data)})},addItemBtnFn:function(){this.topicdialogVisible=!0},addTopic:function(){var t=this,e={gameId:this.topicId,topicId:this.sectionId};i.a.relInsert(e).then(function(e){if("0"==e.data.code){var a={id:t.sectionId};t.getSectionList(a),t.topicdialogVisible=!1}})},choseTop:function(t,e){this.topicId=t},deleteItemFn:function(t){var e=this;this.$confirm("删除后将无法恢复，是否确定删除?").then(function(){var a={gameId:t,topicId:e.sectionId};i.a.relDelete(a).then(function(t){if("0"==t.data.code){var a={id:e.sectionId};e.getSectionList(a)}})}).catch(function(){})}},created:function(){this.getList(),this.getAllSectionList()}}},944:function(t,e,a){e=t.exports=a(7)(),e.push([t.i,"table[data-v-f4f24734]{width:100%}tr[data-v-f4f24734]{width:100%;display:flex;background:#eef1f6}.table_header_wrap[data-v-f4f24734]{border-radius:5px;border-bottom-left-radius:0;border-bottom-right-radius:0;height:40px}td[data-v-f4f24734]{height:60px;background:#fff;border-bottom:1px solid #ddd;display:flex;align-items:center;padding:5px;font-size:13px}.table_header[data-v-f4f24734]{font-size:16px;font-weight:lighter;display:flex;align-items:center;padding:5px}.table_img[data-v-f4f24734]{width:30%;overflow:hidden}.table_img img[data-v-f4f24734]{width:60px;height:60px}.table_link[data-v-f4f24734],.table_weight[data-v-f4f24734]{width:30%}.table_action[data-v-f4f24734]{width:40%}.topic_list[data-v-f4f24734]{width:100%;list-style:none;border:1px solid #999;padding:15px;border-radius:2px;box-sizing:border-box;height:350px;overflow-y:auto}.topic_item[data-v-f4f24734]{height:40px;line-height:40px;display:flex;margin:5px 0;border:1px solid #999}.topimg_box[data-v-f4f24734]{flex:0 0 40px}.topic_text[data-v-f4f24734]{flex:1;text-align:center}.cho[data-v-f4f24734]{background-color:#999;color:#fff}",""])}});