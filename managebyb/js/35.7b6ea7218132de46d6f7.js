webpackJsonp([35],{1006:function(e,t,a){var r=a(898);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(11)("be173f8e",r,!0)},266:function(e,t,a){a(1006);var r=a(9)(a(841),a(954),"data-v-06987a36",null);e.exports=r.exports},320:function(e,t,a){"use strict";function r(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var r in a)if(new RegExp("("+r+")").test(t)){var n=a[r]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?n:i(n))}return t}function i(e){return("00"+e).substr(e.length)}function n(e){var t=e,a=t[0].getFullYear(),r=t[1].getFullYear(),i=t[0].getMonth()+1<10?"0"+(t[0].getMonth()+1):t[0].getMonth()+1,n=t[1].getMonth()+1<10?"0"+(t[1].getMonth()+1):t[1].getMonth()+1;return{begin:a+"-"+i+"-"+(t[0].getDate()<10?"0"+t[0].getDate():t[0].getDate())+" 00:00:00",end:r+"-"+n+"-"+(t[1].getDate()<10?"0"+t[1].getDate():t[1].getDate())+" 23:59:59"}}t.a=r,t.b=n},342:function(e,t,a){"use strict";var r=a(62),i={history:"management/api/historyRecord/list",fromKeyList:"management/api/user/fromKeyList",userList:"management/api/user/list",export:"management/api/user/export",userDetail:"management/api/user/userDetail",groupList:"management/api/click/groupList",recordList:"management/api/click/recordList",clickList:"management/api/click/clickList",pageCountFromKeyList:"management/api/click/fromKeyList",pageCountExport:"management/api/click/recordExport",productClickList:"management/api/click/productClickList",productList:"management/api/click/productList",productRecordExport:"management/api/click/productRecordExport",productRecordList:"management/api/click/productRecordList",qrRecordList:"management/api/attentionRecord/list",gameDownloadCount:"management/api/game/downloadCount",changeDownloadCount:"management/api/game/changeDownloadCount"};t.a={history:function(e){return r.a.get(i.history,e)},fromKeyList:function(e){return r.a.get(i.fromKeyList,e)},userList:function(e){return r.a.get(i.userList,e)},export:function(e){return r.a.get(i.export,e)},userDetail:function(e){return r.a.get(i.userDetail,e)},groupList:function(e){return r.a.get(i.groupList,e)},recordList:function(e){return r.a.get(i.recordList,e)},clickList:function(e){return r.a.get(i.clickList,e)},pageCountFromKeyList:function(e){return r.a.get(i.pageCountFromKeyList,e)},pageCountExport:function(e){return r.a.get(i.pageCountExport,e)},productClickList:function(e){return r.a.get(i.productClickList,e)},productList:function(e){return r.a.get(i.productList,e)},productRecordExport:function(e){return r.a.get(i.productRecordExport,e)},productRecordList:function(e){return r.a.get(i.productRecordList,e)},qrRecordList:function(e){return r.a.get(i.qrRecordList,e)},gameDownloadCount:function(e){return r.a.get(i.gameDownloadCount,e)},changeDownloadCount:function(e){return r.a.post(i.changeDownloadCount,e)}}},841:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(65),i=a.n(r),n=a(66),o=a.n(n),l=a(342),c=a(320);t.default={name:"page-count",data:function(){return{loading:!1,pageSize:10,page:"",currentpage:1,time:"",groupName:"",groupSelect:[],pageName:"",pageSelect:[],eventName:"",eventSelect:[{name:"点击",id:1}],fromKeyName:"",fromKeySelect:[],deveiceName:"",deveiceSelect:[{name:"android",id:"1"},{name:"ios",id:"2"},{name:"web",id:"3"}],dataTotal:10,pageDetail:[]}},watch:{groupName:function(e,t){this.pageSelect=[],this.pageName="",this.getClickList({groupId:e})}},methods:{getFromkey:function(){var e=this;l.a.pageCountFromKeyList().then(function(t){e.fromKeySelect=t.data.data})},getGroupList:function(){var e=this;l.a.groupList().then(function(t){"0"==t.data.code&&(e.groupSelect=t.data.data)})},getClickList:function(e){var t=this;l.a.clickList(e).then(function(e){"0"==e.data.code&&(t.pageSelect=e.data.data)})},search:function(){var e={pageSize:this.pageSize},t=this.choseObj();o()(e,t),this.getList(e)},getList:function(e){var t=this;this.loading=!0,l.a.recordList(e).then(function(e){if("0"==e.data.code){var r=[],n=e.data.data.list,o=!0,l=!1,s=void 0;try{for(var u,p=i()(n);!(o=(u=p.next()).done);o=!0){var d=u.value,g=new Date(d.createAt),m={id:d.id,timePart:a.i(c.a)(g,"yyyy-MM-dd"),groupPart:d.groupName,pagePart:d.clickName,fromKeyPart:d.fromKey,eventPart:d.event?"点击":"",countPart:d.count};1==d.deviceType?m.deveicePart="android":2==d.deviceType?m.deveicePart="ios":3==d.deviceType&&(m.deveicePart="web"),r.push(m)}}catch(e){l=!0,s=e}finally{try{!o&&p.return&&p.return()}finally{if(l)throw s}}t.loading=!1,t.pageDetail=r,t.dataTotal=e.data.data.total}})},pageCurrentChange:function(e){this.page=e;var t={page:e,pageSize:this.pageSize},a=this.choseObj();o()(t,a),this.getList(t)},exportFn:function(){var e=this,t={},a=this.choseObj();o()(t,a),l.a.pageCountExport(t).then(function(){e.$confirm("是否下载？").then(function(e){var t=sessionStorage.getItem("pageCountUrl");window.location.href=t}).catch(function(){})})},choseObj:function(){var e={};if(""!=this.fromKeyName&&"all"!=this.fromKeyName&&(e.fromKey=this.fromKeyName),""!=this.time&&null!=this.time&&void 0!=this.time){var t=a.i(c.b)(this.time);e.timeBegin=t.begin,e.timeEnd=t.end}return""!=this.groupName&&"all"!=this.groupName&&(e.groupId=this.groupName),""!=this.pageName&&"all"!=this.pageName&&(e.clickId=this.pageName),""!=this.deveiceName&&"all"!=this.deveiceName&&(e.deviceType=Number(this.deveiceName)),e}},mounted:function(){this.getList({pageSize:this.pageSize}),this.getGroupList(),this.getFromkey()}}},898:function(e,t,a){t=e.exports=a(7)(),t.push([e.i,".history_body[data-v-06987a36]{margin-top:20px}.pagenation_pane[data-v-06987a36]{padding-top:10px;display:flex;align-items:center;justify-content:center}.user_table[data-v-06987a36]{margin:0 auto;border-right:1px solid #333;border-bottom:1px solid #333}.user_table td[data-v-06987a36]{border-left:1px solid #333;border-top:1px solid #333}.table_title[data-v-06987a36]{width:640px;margin:0 auto}.paT[data-v-06987a36]{padding-top:20px}.user_table td[data-v-06987a36]{height:32px;background:#fff}.user_table .tdT[data-v-06987a36]{background:#eee;text-align:center}.user_table .tdC[data-v-06987a36]{text-indent:1em}.table_adress[data-v-06987a36]{max-width:640px;max-height:160px;overflow-y:auto;margin:0 auto}.table_item[data-v-06987a36]{border:1px solid #999;padding:10px}.item_span[data-v-06987a36]{padding-right:20px}",""])},954:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v(" 统计管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("全部点击统计")])],1)],1),e._v(" "),a("div",{staticClass:"history_body"},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",placeholder:"选择日期范围"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"页面名称"},model:{value:e.groupName,callback:function(t){e.groupName=t},expression:"groupName"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),e._v(" "),e._l(e.groupSelect,function(e,t){return a("el-option",{attrs:{label:e.name,value:e.id}})})],2)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"按键"},model:{value:e.pageName,callback:function(t){e.pageName=t},expression:"pageName"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),e._v(" "),e._l(e.pageSelect,function(e,t){return a("el-option",{attrs:{label:e.name,value:e.id}})})],2)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"访问设备"},model:{value:e.deveiceName,callback:function(t){e.deveiceName=t},expression:"deveiceName"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),e._v(" "),e._l(e.deveiceSelect,function(e,t){return a("el-option",{attrs:{label:e.name,value:e.id}})})],2)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"访问来源"},model:{value:e.fromKeyName,callback:function(t){e.fromKeyName=t},expression:"fromKeyName"}},[a("el-option",{attrs:{label:"全部",value:"all"}}),e._v(" "),e._l(e.fromKeySelect,function(e,t){return a("el-option",{attrs:{label:e,value:e}})})],2)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{on:{click:e.exportFn}},[e._v("导出")])],1)],1)],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body.loak",value:e.loading,expression:"loading",modifiers:{body:!0,loak:!0}}],staticStyle:{width:"100%"},attrs:{data:e.pageDetail,stripe:""}},[a("el-table-column",{attrs:{prop:"timePart",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"groupPart",width:"240",label:"页面名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pagePart",width:"180",label:"按键"}}),e._v(" "),a("el-table-column",{attrs:{prop:"eventPart",width:"120",label:"事件"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deveicePart",width:"120",label:"设备"}}),e._v(" "),a("el-table-column",{attrs:{prop:"countPart",label:"数量"}})],1)],1),e._v(" "),a("div",{staticClass:"pagenation_pane"},[a("el-pagination",{attrs:{small:"",layout:"total, prev, pager, next","page-size":e.pageSize,"current-page":e.currentpage,total:e.dataTotal},on:{"current-change":e.pageCurrentChange}})],1)])],1)])},staticRenderFns:[]}}});