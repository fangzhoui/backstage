webpackJsonp([15],{279:function(e,t,a){var s=a(9)(a(854),a(990),null,null);e.exports=s.exports},313:function(e,t,a){a(318);var s=a(9)(a(314),a(317),"data-v-9679b6b8",null);e.exports=s.exports},314:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(22),i=a.n(s),n=a(63),r=a.n(n),o=a(64),m=a(26);t.default={name:"upload-img-pane",components:{"image-card":r.a},data:function(){return{imageUrl:"",showIcon:!0}},computed:{imgUrl:function(){return sessionStorage.getItem("imageUrl")+"/"+this.imageUrl}},props:{group:{type:String,default:"common"}},methods:i()({},a.i(m.b)(["set_banner_img"]),{uploadFn:function(){var e=this;if(this.showIcon=!1,this.$refs.imgUpload.files.length>0){var t=this.$refs.imgUpload.files[0],a=t.name.split("."),s=a[0],i={name:s,group:this.group,file:t};o.a.insert(i).then(function(t){0==t.data.code?(e.showIcon=!0,e.$message.success("上传成功"),e.imageUrl=t.data.data,e.set_banner_img(t.data.data),e.$emit("callbackFn")):e.$message.error("当期网络不佳，请重试")}).catch(function(){e.showIcon=!0})}else this.showIcon=!0}})}},315:function(e,t,a){t=e.exports=a(7)(),t.push([e.i,".upload_img_pane[data-v-9679b6b8]{width:150px;height:150px;border-radius:5px;border:1px dashed #dcdcdc;display:flex;align-items:center;justify-content:center;position:relative;background:#fbfdff;font-size:24px;color:#666}.upload_img_pane[data-v-9679b6b8]:hover{border:1px dashed #2196f3}.upload_file[data-v-9679b6b8]{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;opacity:0}.slide-fade-enter-active[data-v-9679b6b8]{transition:all .3s ease}.slide-fade-leave-active[data-v-9679b6b8]{transition:all .3s cubic-bezier(1,.5,.8,1)}.slide-fade-enter[data-v-9679b6b8],.slide-fade-leave-to[data-v-9679b6b8]{transform:translateY(10px);opacity:0}",""])},317:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload_img_wrap"},[a("div",{staticClass:"upload_img_pane"},[e.showIcon?a("i",{staticClass:"el-icon-plus"}):a("i",{staticClass:"el-icon-loading"}),e._v(" "),a("input",{ref:"imgUpload",staticClass:"upload_file",attrs:{type:"file",name:""},on:{change:function(t){e.uploadFn()}}})])])},staticRenderFns:[]}},318:function(e,t,a){var s=a(315);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(11)("69ae6db8",s,!0)},348:function(e,t,a){"use strict";var s=a(62),i={gameInsert:"management/api/gameCategory/insert",gameList:"management/api/gameCategory/list",gameUpdate:"management/api/gameCategory/update",gameDelete:"management/api/gameCategory/delete",businessInsert:"management/api/businessCategory/insert",businessList:"management/api/businessCategory/list",businessUpdate:"management/api/businessCategory/update",businessDelete:"management/api/businessCategory/delete"};t.a={gameInsert:function(e){return s.a.post(i.gameInsert,e)},gameList:function(e){return s.a.get(i.gameList,e)},gameUpdate:function(e){return s.a.post(i.gameUpdate,e)},gameDelete:function(e){return s.a.post(i.gameDelete,e)},businessInsert:function(e){return s.a.post(i.businessInsert,e)},businessList:function(e){return s.a.get(i.businessList,e)},businessUpdate:function(e){return s.a.post(i.businessUpdate,e)},businessDelete:function(e){return s.a.post(i.businessDelete,e)}}},369:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"list-item",data:function(){return{showIcon:!1,state:!1,indexlabel:""}},props:{index:null,code:null},watch:{code:function(e,t){e==this.index?this.state=!0:this.state=!1}},methods:{mouseIn:function(){this.showIcon=!0},mouseOut:function(){this.showIcon=!1},deleteItemFn:function(){this.$emit("deleteItem")}}}},372:function(e,t,a){t=e.exports=a(7)(),t.push([e.i,".list_item_wrap[data-v-759b58c0]{display:flex;align-items:center;justify-content:space-between;padding:10px}.list_item_wrap[data-v-759b58c0]:hover{background:#eef1f6}.fontColor[data-v-759b58c0]{color:#2196f3}",""])},383:function(e,t,a){a(385);var s=a(9)(a(369),a(384),"data-v-759b58c0",null);e.exports=s.exports},384:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list_item_wrap underline",on:{mouseenter:e.mouseIn,mouseleave:e.mouseOut}},[a("div",{staticClass:"list_item_content",class:{fontColor:e.state}},[e._t("default",[e._v("\n\t\t\t默认项\n\t\t")])],2),e._v(" "),e.showIcon?a("div",{staticClass:"delete_icon"},[e._t("deleteIcon",[a("i",{staticClass:"el-icon-circle-close",on:{click:e.deleteItemFn}})])],2):e._e()])},staticRenderFns:[]}},385:function(e,t,a){var s=a(372);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(11)("4727c6ec",s,!0)},504:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(22),i=a.n(s),n=a(71),r=a.n(n),o=a(313),m=a.n(o),u=a(63),c=a.n(u),l=a(26),d=a(348);t.default={name:"type-common-pane",components:{"upload-img-item":r.a,"image-card":c.a,"add-img-item":m.a},props:{section:String,state:{type:String,default:"none"}},computed:i()({},a.i(l.c)(["get_itemData","get_banner_img"]),{perUrl:function(){return sessionStorage.getItem("imageUrl")}}),data:function(){return{switchTurn:!1,typeItemForm:{name:"",weight:"",subName:"",image:""},typeItemRules:{name:[{required:!0,message:"请输入标题",trigger:"blur"}],weight:[{required:!0,message:"请输入权重",trigger:"blur"}],subName:[{required:!0,message:"请输入副标题",trigger:"blur"}]},showImg:!1}},watch:{switchTurn:function(e,t){if(e){this.showImg=!0;var a=this.get_itemData;this.typeItemForm={name:a.name,subName:a.subName,weight:a.weight,image:a.image}}else this.showImg=!1,this.typeItemForm={name:"",subName:"",weight:""}},get_itemData:function(e,t){var a=this.get_itemData;this.typeItemForm={name:a.name,subName:a.subName,weight:a.weight,image:a.image}},state:function(e,t){"pick"==e?this.switchTurn=!0:"none"==e&&(this.switchTurn=!1)}},methods:i()({},a.i(l.b)(["set_banner_img","set_itemData"]),{deleteItem:function(){this.showImg=!1},saveBtnFn:function(){var e=this;if("game"==this.section)if(this.switchTurn){var t=this.get_itemData,a=this.typeItemForm,s="";if(this.showImg)s=t.image;else{var i=this.get_banner_img;if(!i.path)return void this.$message.error("图片不能为空");s=i.path}var n={id:t.id,name:a.name,subName:a.subName,weight:a.weight,image:s};d.a.gameUpdate(n).then(function(t){0==t.data.code&&(e.$message.success("更新成功"),e.$emit("submitFn"),e.showImg=!0,e.switchTurn=!0,e.set_itemData({}))})}else{var r=this.typeItemForm,o="",m=this.get_banner_img;if(!m.path)return void this.$message.error("图片不能为空");o=m.path;var u={name:r.name,subName:r.subName,weight:r.weight,image:o};d.a.gameInsert(u).then(function(t){e.$message.success("新增成功"),e.$emit("submitFn"),e.showImg=!0,e.switchTurn=!0,e.set_itemData({})})}else if("business"==this.section)if(this.switchTurn){var c=this.get_itemData,l=this.typeItemForm,g="";if(this.showImg)g=c.image;else{var p=this.get_banner_img;if(!p.path)return void this.$message.error("图片不能为空");g=p.path}var h={id:c.id,name:l.name,subName:l.subName,weight:l.weight,image:g};d.a.businessUpdate(h).then(function(t){0==t.data.code&&(e.$message.success("更新成功"),e.$emit("submitFn"),e.showImg=!0,e.switchTurn=!0)})}else{var f=this.typeItemForm,b="",v=this.get_banner_img;if(!v.path)return void this.$message.error("图片不能为空");b=v.path;var _={name:f.name,subName:f.subName,weight:f.weight,image:b};d.a.businessInsert(_).then(function(t){e.$message.success("新增成功"),e.$emit("submitFn"),e.showImg=!0,e.switchTurn=!0})}}}),mounted:function(){var e=this.get_itemData;this.typeItemForm={name:e.name,subName:e.subName,weight:e.weight,image:e.image}}}},783:function(e,t,a){var s=a(9)(a(504),a(786),null,null);e.exports=s.exports},786:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-switch",{attrs:{"on-text":"详情","off-text":"新增","off-color":"#13ce66"},model:{value:e.switchTurn,callback:function(t){e.switchTurn=t},expression:"switchTurn"}})],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"typeItemForm",attrs:{"label-width":"70px",model:e.typeItemForm,rules:e.typeItemRules}},[a("el-form-item",{attrs:{label:"标题",prop:"name"}},[a("el-input",{model:{value:e.typeItemForm.name,callback:function(t){e.$set(e.typeItemForm,"name",t)},expression:"typeItemForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"副标题",prop:"subName"}},[a("el-input",{model:{value:e.typeItemForm.subName,callback:function(t){e.$set(e.typeItemForm,"subName",t)},expression:"typeItemForm.subName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权重",prop:"weight"}},[a("el-input",{attrs:{type:"number"},model:{value:e.typeItemForm.weight,callback:function(t){e.$set(e.typeItemForm,"weight",t)},expression:"typeItemForm.weight"}})],1)],1),e._v(" "),a("div",{staticClass:"upload_btn_pane"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveBtnFn}},[e._v("保存")])],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"img_upload_pane"},[e.showImg?a("image-card",{attrs:{showTitle:!1},on:{deleteItem:e.deleteItem}},[a("img",{attrs:{src:e.perUrl+"/"+e.typeItemForm.image}})]):a("upload-img-item")],1)])],1)],1)],1)},staticRenderFns:[]}},854:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(65),i=a.n(s),n=a(22),r=a.n(n),o=a(383),m=a.n(o),u=a(348),c=a(783),l=a.n(c),d=a(26);t.default={name:"game-type",components:{"list-item":m.a,"common-content":l.a},data:function(){return{gameList:[],id:"",state:"none"}},methods:r()({},a.i(d.b)(["set_itemData"]),{getList:function(){var e=this;u.a.gameList().then(function(t){e.gameList=t.data.data})},pick:function(e){this.id=e,this.state="pick";var t=!0,a=!1,s=void 0;try{for(var n,r=i()(this.gameList);!(t=(n=r.next()).done);t=!0){var o=n.value;o.id==e&&this.set_itemData(o)}}catch(e){a=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw s}}},deleteItem:function(e){var t=this;this.$confirm("是否确定删除该项？").then(function(){u.a.gameDelete({id:e}).then(function(e){0==e.data.code&&(t.$message.success("删除成功"),t.getList(),t.set_itemData(t.gameList[0]))})}).catch(function(){})}}),mounted:function(){this.getList()},destroyed:function(){this.set_itemData({})}}},990:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-wrap",[a("div",{attrs:{slot:"sideLeft"},slot:"sideLeft"},e._l(e.gameList,function(t){return a("list-item",{attrs:{index:t.id,code:e.id},on:{deleteItem:function(a){e.deleteItem(t.id)}},nativeOn:{click:function(a){e.pick(t.id)}}},[a("div",[e._v(e._s(t.name))])])})),e._v(" "),a("div",{attrs:{slot:"sideRight"},slot:"sideRight"},[a("common-content",{attrs:{section:"game",state:e.state},on:{submitFn:e.getList}})],1)])],1)},staticRenderFns:[]}}});