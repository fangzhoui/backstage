webpackJsonp([10],{1048:function(e,t,n){var a=n(940);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(11)("029835b4",a,!0)},282:function(e,t,n){n(1048);var a=n(9)(n(857),n(999),"data-v-ce3fc288",null);e.exports=a.exports},313:function(e,t,n){n(318);var a=n(9)(n(314),n(317),"data-v-9679b6b8",null);e.exports=a.exports},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),i=n.n(a),o=n(63),s=n.n(o),r=n(64),c=n(26);t.default={name:"upload-img-pane",components:{"image-card":s.a},data:function(){return{imageUrl:"",showIcon:!0}},computed:{imgUrl:function(){return sessionStorage.getItem("imageUrl")+"/"+this.imageUrl}},props:{group:{type:String,default:"common"}},methods:i()({},n.i(c.b)(["set_banner_img"]),{uploadFn:function(){var e=this;if(this.showIcon=!1,this.$refs.imgUpload.files.length>0){var t=this.$refs.imgUpload.files[0],n=t.name.split("."),a=n[0],i={name:a,group:this.group,file:t};r.a.insert(i).then(function(t){0==t.data.code?(e.showIcon=!0,e.$message.success("上传成功"),e.imageUrl=t.data.data,e.set_banner_img(t.data.data),e.$emit("callbackFn")):e.$message.error("当期网络不佳，请重试")}).catch(function(){e.showIcon=!0})}else this.showIcon=!0}})}},315:function(e,t,n){t=e.exports=n(7)(),t.push([e.i,".upload_img_pane[data-v-9679b6b8]{width:150px;height:150px;border-radius:5px;border:1px dashed #dcdcdc;display:flex;align-items:center;justify-content:center;position:relative;background:#fbfdff;font-size:24px;color:#666}.upload_img_pane[data-v-9679b6b8]:hover{border:1px dashed #2196f3}.upload_file[data-v-9679b6b8]{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;opacity:0}.slide-fade-enter-active[data-v-9679b6b8]{transition:all .3s ease}.slide-fade-leave-active[data-v-9679b6b8]{transition:all .3s cubic-bezier(1,.5,.8,1)}.slide-fade-enter[data-v-9679b6b8],.slide-fade-leave-to[data-v-9679b6b8]{transform:translateY(10px);opacity:0}",""])},317:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload_img_wrap"},[n("div",{staticClass:"upload_img_pane"},[e.showIcon?n("i",{staticClass:"el-icon-plus"}):n("i",{staticClass:"el-icon-loading"}),e._v(" "),n("input",{ref:"imgUpload",staticClass:"upload_file",attrs:{type:"file",name:""},on:{change:function(t){e.uploadFn()}}})])])},staticRenderFns:[]}},318:function(e,t,n){var a=n(315);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(11)("69ae6db8",a,!0)},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"list-item",data:function(){return{showIcon:!1,showDetail:!1,state:!1,indexlabel:""}},props:{index:null,code:null,name:{type:String,default:"默认"},listType:{type:String,default:"默认"},showListType:{type:Boolean,default:!0},showDetailParent:{type:Boolean,default:!1}},watch:{code:function(e,t){e==this.index?this.state=!0:this.state=!1}},methods:{mouseIn:function(){this.showIcon=!0,this.showDetail=!0},mouseOut:function(){this.showIcon=!1,this.showDetail=!1},deleteItemFn:function(){this.$emit("deleteItem")},lookDetail:function(){this.$emit("lookDetail")},pickFn:function(){this.$emit("select",this.index)}}}},328:function(e,t,n){t=e.exports=n(7)(),t.push([e.i,".list_item_wrap[data-v-2a55c3ba]{display:flex;align-items:center;justify-content:space-between;padding:10px}.list_item_wrap[data-v-2a55c3ba]:hover{background:#eef1f6}.list_item_content[data-v-2a55c3ba]{display:flex;align-items:center}.list_item_content img[data-v-2a55c3ba]{width:40px;height:40px;border-radius:20px}.text_pane[data-v-2a55c3ba]{margin-left:10px;color:#333;min-width:100px}.text_type[data-v-2a55c3ba]{font-size:12px}.pick_color[data-v-2a55c3ba]{color:#2196f3}.delete_icon[data-v-2a55c3ba]{padding:5px}",""])},330:function(e,t,n){n(332);var a=n(9)(n(325),n(331),"data-v-2a55c3ba",null);e.exports=a.exports},331:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list_item_wrap underline",on:{mouseenter:e.mouseIn,mouseleave:e.mouseOut}},[n("div",{staticClass:"list_item_content"},[e._t("default",[n("img",{attrs:{src:"http://oo6gk8wuu.bkt.clouddn.com/header1.jpg"}})]),e._v(" "),n("div",{staticClass:"text_pane",class:{pick_color:e.state}},[n("p",[e._v(e._s(e.name))]),e._v(" "),e.showListType?n("p",{staticClass:"text_type"},[e._v(e._s(e.listType))]):e._e()])],2),e._v(" "),e.showDetail&&e.showDetailParent?n("div",{staticClass:"delete_icon"},[e._t("deleteIcon",[n("i",{staticClass:"el-icon-edit",on:{click:function(t){t.stopPropagation(),e.lookDetail(t)}}})])],2):e._e(),e._v(" "),e.showIcon?n("div",{staticClass:"delete_icon"},[e._t("deleteIcon",[n("i",{staticClass:"el-icon-circle-close",on:{click:function(t){t.stopPropagation(),e.deleteItemFn(t)}}})])],2):e._e()])},staticRenderFns:[]}},332:function(e,t,n){var a=n(328);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(11)("9ae1ef20",a,!0)},343:function(e,t,n){"use strict";var a=n(62),i={gameInsert:"management/api/game/insert",gameDetail:"management/api/game/detail",gameDelete:"management/api/game/delete",gameList:"management/api/game/list",gameUpdate:"management/api/game/update",searchByName:"management/api/game/searchByName",liveInsert:"management/api/live/insert",liveDetail:"management/api/live/detail",liveDelete:"management/api/live/delete",liveUpdate:"management/api/live/update",liveList:"/management/api/live/list",businessInsert:"management/api/business/insert",businessDetail:"management/api/business/detail",businessDelete:"management/api/business/delete",businessList:"management/api/business/list",businessUpdate:"management/api/business/update",convenienceInsert:"management/api/convenience/insert",convenienceDelete:"management/api/convenience/delete",convenienceList:"management/api/convenience/list",convenienceUpdate:"management/api/convenience/update",hotList:"management/api/search/list",hotDelete:"management/api/search/delete",hotInsert:"management/api/search/insert",hotUpdate:"management/api/search/update",novelList:"management/api/novel/list",novelDetail:"management/api/novel/detail",novelInsert:"management/api/novel/insert",novelDelete:"management/api/novel/delete",novelUpdate:"management/api/novel/update",cartoonList:"management/api/cartoon/list",cartoonDetail:"management/api/cartoon/detail",cartoonInsert:"management/api/cartoon/insert",cartoonDelete:"management/api/cartoon/delete",cartoonUpdate:"management/api/cartoon/update"};t.a={gameInsert:function(e){return a.a.post(i.gameInsert,e)},gameDetail:function(e){return a.a.get(i.gameDetail,e)},gameDelete:function(e){return a.a.post(i.gameDelete,e)},gameList:function(e){return a.a.get(i.gameList,e)},gameUpdate:function(e){return a.a.post(i.gameUpdate,e)},searchByName:function(e){return a.a.get(i.searchByName,e)},liveInsert:function(e){return a.a.post(i.liveInsert,e)},liveDetail:function(e){return a.a.get(i.liveDetail,e)},liveDelete:function(e){return a.a.post(i.liveDelete,e)},liveList:function(e){return a.a.get(i.liveList,e)},liveUpdate:function(e){return a.a.post(i.liveUpdate,e)},businessInsert:function(e){return a.a.post(i.businessInsert,e)},businessDetail:function(e){return a.a.get(i.businessDetail,e)},businessDelete:function(e){return a.a.post(i.businessDelete,e)},businessList:function(e){return a.a.get(i.businessList,e)},businessUpdate:function(e){return a.a.post(i.businessUpdate,e)},convenienceInsert:function(e){return a.a.post(i.convenienceInsert,e)},convenienceList:function(e){return a.a.get(i.convenienceList,e)},convenienceUpdate:function(e){return a.a.post(i.convenienceUpdate,e)},convenienceDelete:function(e){return a.a.post(i.convenienceDelete,e)},hotList:function(e){return a.a.get(i.hotList,e)},hotDelete:function(e){return a.a.post(i.hotDelete,e)},hotInsert:function(e){return a.a.post(i.hotInsert,e)},hotUpdate:function(e){return a.a.post(i.hotUpdate,e)},novelList:function(e){return a.a.get(i.novelList,e)},novelDetail:function(e){return a.a.get(i.novelDetail,e)},novelInsert:function(e){return a.a.post(i.novelInsert,e)},novelDelete:function(e){return a.a.post(i.novelDelete,e)},novelUpdate:function(e){return a.a.post(i.novelUpdate,e)},cartoonList:function(e){return a.a.get(i.cartoonList,e)},cartoonDetail:function(e){return a.a.get(i.cartoonDetail,e)},cartoonInsert:function(e){return a.a.post(i.cartoonInsert,e)},cartoonDelete:function(e){return a.a.post(i.cartoonDelete,e)},cartoonUpdate:function(e){return a.a.post(i.cartoonUpdate,e)}}},348:function(e,t,n){"use strict";var a=n(62),i={gameInsert:"management/api/gameCategory/insert",gameList:"management/api/gameCategory/list",gameUpdate:"management/api/gameCategory/update",gameDelete:"management/api/gameCategory/delete",businessInsert:"management/api/businessCategory/insert",businessList:"management/api/businessCategory/list",businessUpdate:"management/api/businessCategory/update",businessDelete:"management/api/businessCategory/delete"};t.a={gameInsert:function(e){return a.a.post(i.gameInsert,e)},gameList:function(e){return a.a.get(i.gameList,e)},gameUpdate:function(e){return a.a.post(i.gameUpdate,e)},gameDelete:function(e){return a.a.post(i.gameDelete,e)},businessInsert:function(e){return a.a.post(i.businessInsert,e)},businessList:function(e){return a.a.get(i.businessList,e)},businessUpdate:function(e){return a.a.post(i.businessUpdate,e)},businessDelete:function(e){return a.a.post(i.businessDelete,e)}}},503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"tag-label",props:{title:{type:String,default:"默认"}},methods:{deleteItem:function(){this.$emit("deleteItem")}}}},514:function(e,t,n){t=e.exports=n(7)(),t.push([e.i,".tag_label_wrap[data-v-7b55946e]{display:flex;align-items:center;justify-content:space-between;height:35px;padding:0 5px;border-radius:30px;width:100px;background:#eef1f6;margin-right:10px}.tag_label_wrap[data-v-7b55946e]:hover{background:#48576a;color:#fff}",""])},782:function(e,t,n){n(790);var a=n(9)(n(503),n(787),"data-v-7b55946e",null);e.exports=a.exports},787:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tag_label_wrap"},[n("div",[e._v("\n\t\t"+e._s(e.title)+"\n\t")]),e._v(" "),n("i",{staticClass:"el-icon-circle-close",on:{click:e.deleteItem}})])},staticRenderFns:[]}},790:function(e,t,n){var a=n(514);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(11)("0af70fff",a,!0)},857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(65),i=n.n(a),o=n(22),s=n.n(o),r=n(330),c=n.n(r),l=n(63),m=n.n(l),u=n(313),d=n.n(u),p=(n(348),n(343)),g=n(26),f=n(782),v=n.n(f);t.default={name:"priduct-game",components:{"product-item":c.a,"image-card":m.a,"add-img-item":d.a,"tag-label":v.a},data:function(){return{loading:!1,convenienceList:[],code:"",switchTurn:!1,preUrl:sessionStorage.getItem("imageUrl"),switchLogo:!0,imageLogoData:{},convenienceItemForm:{name:"",subName:"",fixedTop:!1,imageLogo:"",weight:"",redirectUrl:"",enable:!1},convenienceItemRules:{name:[{required:!0,message:"请输入标题",trigger:"blur"}],subName:[{required:!0,message:"请输入副标题",trigger:"blur"}],redirectUrl:[{required:!0,message:"请输入链接",trigger:"blur"}],weight:[{type:"number",required:!0,message:"请输入权重",trigger:"blur"}]}}},computed:s()({},n.i(g.c)(["get_banner_img"])),watch:{switchTurn:function(e,t){var n=this;e?(p.a.convenienceList().then(function(e){0==e.data.code&&(n.convenienceList=e.data.data,n.pick(n.code))}),this.switchLogo=!1):(this.$refs.convenienceItemForm.resetFields(),this.convenienceItemForm.weight="",this.set_banner_img({}),this.switchLogo=!0)}},methods:s()({},n.i(g.b)(["set_banner_img"]),{callbackFn:function(){this.convenienceItemForm.imageLogo=this.get_banner_img.path,this.imageLogoData=this.get_banner_img,this.switchLogo=!1},deleteLogoFn:function(){this.switchLogo=!0},pick:function(e){this.code=e,this.switchTurn=!0,this.switchLogo=!1;var t=this.convenienceList,n=!0,a=!1,o=void 0;try{for(var s,r=i()(t);!(n=(s=r.next()).done);n=!0){var c=s.value;c.id==e&&(this.convenienceItemForm=c)}}catch(e){a=!0,o=e}finally{try{!n&&r.return&&r.return()}finally{if(a)throw o}}},getProductList:function(){var e=this;p.a.convenienceList().then(function(t){0==t.data.code&&(e.convenienceList=t.data.data,t.data.data.fixedTop?e.convenienceList.fixedTop=!0:e.convenienceList.fixedTop=!1,t.data.data.enable?e.convenienceList.enable=!0:e.convenienceList.enable=!1)})},deleteItemList:function(e){var t=this;this.$confirm("删除后将无法恢复，是否确定删除?").then(function(){p.a.convenienceDelete({id:e}).then(function(e){0==e.data.code?(t.$message("您已经删除了一条便民产品"),t.getProductList()):t.$message("当前网络不佳，请稍后重试")})}).catch(function(){})},submitFn:function(){var e=this;this.$refs.convenienceItemForm.validate(function(t){if(t)if(e.switchTurn){if(""==e.convenienceItemForm.imageLogo)return void e.$message.error("请选择图片，不然完成不了哦");var n=e.convenienceItemForm;n.fixedTop?n.fixedTop=1:n.fixedTop=0,n.enable?n.enable=1:n.enable=0,e.loading=!0,p.a.convenienceUpdate(n).then(function(t){if(0!=t.data.code)return e.loading=!1,void e.$message("当前网络不佳，请稍后重试");e.$message.success("更新了一条便民产品"),e.getProductList(),e.loading=!1})}else{if(""==e.convenienceItemForm.imageLogo)return void e.$message.error("请选择图片，不然完成不了哦");var a=e.convenienceItemForm;a.fixedTop?a.fixedTop=1:a.fixedTop=0,a.enable?a.enable=1:a.enable=0,e.loading=!0,p.a.convenienceInsert(a).then(function(t){if(0!=t.data.code)return e.loading=!1,void e.$message("当前网络不佳，请稍后重试");e.$message.success("新增了一条便民产品"),e.getProductList(),e.loading=!1})}else e.$message("no")})}}),mounted:function(){this.getProductList()}}},940:function(e,t,n){t=e.exports=n(7)(),t.push([e.i,".save_btn[data-v-ce3fc288]{display:flex;justify-content:center}.tag_label[data-v-ce3fc288]{display:flex}",""])},999:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("page-wrap",{directives:[{name:"loading",rawName:"v-loading.body.lock",value:e.loading,expression:"loading",modifiers:{body:!0,lock:!0}}]},[n("div",{attrs:{slot:"sideLeft"},slot:"sideLeft"},e._l(e.convenienceList,function(t,a){return n("product-item",{attrs:{index:t.id,code:e.code,name:t.name,listType:""},on:{deleteItem:function(n){e.deleteItemList(t.id)}},nativeOn:{click:function(n){e.pick(t.id)}}},[n("img",{attrs:{src:e.preUrl+"/"+t.imageLogo}})])})),e._v(" "),n("div",{attrs:{slot:"sideRight"},slot:"sideRight"},[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("el-switch",{attrs:{"active-text":"详情","inactive-text":"新增","off-color":"#13ce66"},model:{value:e.switchTurn,callback:function(t){e.switchTurn=t},expression:"switchTurn"}})],1),e._v(" "),n("div",[n("el-form",{ref:"convenienceItemForm",attrs:{"label-width":"80px",model:e.convenienceItemForm,rules:e.convenienceItemRules}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"标题",prop:"name"}},[n("el-input",{model:{value:e.convenienceItemForm.name,callback:function(t){e.$set(e.convenienceItemForm,"name",t)},expression:"convenienceItemForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"副标题",prop:"subName"}},[n("el-input",{model:{value:e.convenienceItemForm.subName,callback:function(t){e.$set(e.convenienceItemForm,"subName",t)},expression:"convenienceItemForm.subName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"权重"}},[n("el-input",{attrs:{type:"number"},model:{value:e.convenienceItemForm.weight,callback:function(t){e.$set(e.convenienceItemForm,"weight",t)},expression:"convenienceItemForm.weight"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"Logo"}},[e.switchLogo?n("add-img-item",{attrs:{group:"convenience"},on:{callbackFn:e.callbackFn}}):n("image-card",{attrs:{showTitle:!1},on:{deleteItem:function(t){e.deleteLogoFn()}}},[n("img",{attrs:{src:e.preUrl+"/"+e.convenienceItemForm.imageLogo}})])],1)],1),e._v(" "),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"链接",prop:"redirectUrl"}},[n("el-input",{model:{value:e.convenienceItemForm.redirectUrl,callback:function(t){e.$set(e.convenienceItemForm,"redirectUrl",t)},expression:"convenienceItemForm.redirectUrl"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"是否可用"}},[n("el-switch",{model:{value:e.convenienceItemForm.enable,callback:function(t){e.$set(e.convenienceItemForm,"enable",t)},expression:"convenienceItemForm.enable"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"是否置顶"}},[n("el-switch",{model:{value:e.convenienceItemForm.fixedTop,callback:function(t){e.$set(e.convenienceItemForm,"fixedTop",t)},expression:"convenienceItemForm.fixedTop"}})],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"save_btn"},[n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.submitFn(t)}}},[e._v("保存提交")])],1)],1)])],1)])],1)},staticRenderFns:[]}}});